## 🔍 第 5 章 运输层（答案附后）

## 一、单项选择题（每题 3 分，共 30 分）

1. 运输层向（ ）提供通信服务。
   - A. 网络层
   - B. 应用层
   - C. 数据链路层
   - D. 物理层
2. UDP 协议的特点是（ ）。
   - A. 面向连接、可靠交付
   - B. 无连接、可靠交付
   - C. 面向连接、尽最大努力交付
   - D. 无连接、尽最大努力交付
3. TCP 连接的端点是（ ）。
   - A. 主机
   - B. IP 地址
   - C. 套接字
   - D. 端口号
4. 停止等待协议中，若发送方在超时计时器到期之前收到了确认，则（ ）。
   - A. 重发该分组
   - B. 丢弃该分组
   - C. 撤销超时计时器，继续发送下一个分组
   - D. 继续等待确认
5. TCP 报文段首部中，用于指示期望收到对方下一个报文段数据的第一个字节序号的字段是（ ）。
   - A. 序号字段
   - B. 确认号字段
   - C. 窗口字段
   - D. 紧急指针字段
6. 以下关于 TCP 流量控制的说法，正确的是（ ）。
   - A. 流量控制是让发送方的发送速率不要太快，防止网络拥塞
   - B. 利用滑动窗口机制无法实现流量控制
   - C. 接收方通过调整发送窗口大小来进行流量控制
   - D. 发送方通过调整接收窗口大小来进行流量控制
7. TCP 拥塞控制中，当拥塞窗口 cwnd 大于慢开始门限 ssthresh 时，使用（ ）算法。
   - A. 慢开始
   - B. 拥塞避免
   - C. 快重传
   - D. 快恢复
8. 在 TCP 连接建立的三报文握手中，第二次握手的报文段中，SYN 和 ACK 的值分别为（ ）。
   - A. SYN=1，ACK=0
   - B. SYN=0，ACK=1
   - C. SYN=1，ACK=1
   - D. SYN=0，ACK=0
9. 以下哪种情况会导致 TCP 进入拥塞控制的慢开始状态（ ）。
   - A. 收到三个重复的 ACK
   - B. 重传定时器超时
   - C. 网络出现拥塞征兆
   - D. 发送方发送数据过快
10. UDP 用户数据报的首部长度为（ ）字节。
    - A. 8
    - B. 16
    - C. 20
    - D. 24

## 二、多项选择题（每题 5 分，共 25 分）

1. 运输层的主要协议有（ ）。
   - A. UDP
   - B. TCP
   - C. IP
   - D. HTTP
2. 以下属于 TCP 特点的有（ ）。
   - A. 面向连接
   - B. 提供可靠交付服务
   - C. 支持多播
   - D. 面向字节流
3. 停止等待协议中，为了实现可靠通信，采取的措施有（ ）。
   - A. 编号
   - B. 超时重传
   - C. 流水线传输
   - D. 累积确认
4. TCP 报文段首部中，与连接建立和释放相关的字段有（ ）。
   - A. SYN
   - B. FIN
   - C. ACK
   - D. RST
5. TCP 拥塞控制算法包括（ ）。
   - A. 慢开始
   - B. 拥塞避免
   - C. 快重传
   - D. 快恢复

## 三、简答题（每题 10 分，共 30 分）

1. 简述运输层端口的作用，并说明端口号的分类。
2. 比较 UDP 和 TCP 的主要特点，并举例说明它们适用的场景。
3. 简述 TCP 可靠传输的实现机制。

## 四、计算题（15 分）

假设 TCP 的拥塞窗口初始值为 1，慢开始门限 ssthresh 初始值为 16。在传输过程中，拥塞窗口增长到 24 时发生超时，请画出拥塞窗口随传输轮次变化的示意图，并标注关键节点和操作（包括慢开始、拥塞避免、超时后的调整等）。











## 第 5 章 运输层答案

1. 单项选择题
   - B
   - D
   - C
   - C
   - B
   - A
   - B
   - C
   - B
   - A
2. 多项选择题
   - AB
   - ABD
   - AB
   - ABCD
   - ABCD
3. 简答题
   - **运输层端口作用及分类**：运输层端口用于标识应用进程，使不同进程能在网络中准确通信。端口号用 16 位表示，分为服务器端端口号（熟知端口 0 - 1023，用于常用服务；登记端口号 1024 - 49151，供无熟知端口号的应用程序使用，使用需在 IANA 登记）和客户端端口号（短暂端口号 49152 - 65535，供客户进程临时选择，通信结束后可被其他进程使用）。
   - **UDP 和 TCP 特点及适用场景**：UDP 是无连接、尽最大努力交付、面向报文、无拥塞控制、支持多种交互通信、首部开销小的协议，适用于对实时性要求高、对数据准确性要求相对较低的场景，如多媒体通信；TCP 是面向连接、提供可靠交付、面向字节流、支持点对点单播、有复杂拥塞控制机制的协议，适用于对数据准确性和完整性要求高的场景，如文件传输、电子邮件、万维网等。
   - **TCP 可靠传输实现机制**：①以字节为单位的滑动窗口：发送方和接收方分别维持发送和接收窗口，发送窗口内的数据可连续发送，接收窗口只允许接收落入窗口内的数据，通过窗口大小调整传输效率和可靠性；②超时重传时间选择：采用自适应算法，记录报文段发送和确认时间计算往返时间 RTT，进而计算加权平均往返时间 RTTs 和超时重传时间 RTO，同时采用 Karn 算法处理重传报文段的往返时间样本；③选择确认 SACK：若收到的报文段无差错但未按序号，可使用 SACK 只传送缺少的数据，减少重传。
4. 计算题
   - 拥塞窗口随传输轮次变化示意图：
     - 初始状态：cwnd = 1，ssthresh = 16 。
     - 慢开始阶段：每收到一个新报文段的确认，cwnd 加 1，传输轮次 1：cwnd = 1；传输轮次 2：cwnd = 2；以此类推，直到 cwnd = 16 。
     - 拥塞避免阶段：当 cwnd = 16 时，进入拥塞避免阶段，每经过一个传输轮次，cwnd = cwnd + 1 。
     - 超时调整：当 cwnd 增长到 24 时发生超时，此时调整 ssthresh = cwnd / 2 = 12，cwnd = 1，重新进入慢开始阶段。